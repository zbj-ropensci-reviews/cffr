<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Manipulating Citations with cffr • cffr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Manipulating Citations with cffr">
<meta property="og:description" content="cffr">
<meta property="og:image" content="https://dieghernan.github.io/cffr/logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@dhernangomez">
<meta name="twitter:site" content="@dhernangomez">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-0DP42JKT92"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0DP42JKT92');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cffr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/cffr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/crosswalk.html">Crosswalk</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dieghernan/cffr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="cffr_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Manipulating Citations with cffr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dieghernan/cffr/blob/master/vignettes/cffr.Rmd"><code>vignettes/cffr.Rmd</code></a></small>
      <div class="hidden name"><code>cffr.Rmd</code></div>

    </div>

    
    
<p><strong>cffr</strong> is a tool whose target audience are <strong>R</strong> package developers. The main goal of <strong>cffr</strong> is to create a <code>CITATION.cff</code> file using the metadata information of the following files:</p>
<ul>
<li>Your <code>DESCRIPTION</code> file.</li>
<li>If available, the citation information located in <code>inst/CITATION</code>.</li>
</ul>
<div id="what-is-a-citation-cff-file" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-a-citation-cff-file" class="anchor"></a>What is a <code>CITATION.cff</code> file?</h2>
<p><a href="https://citation-file-format.github.io/">Citation File Format (CFF)</a> <span class="citation">(Druskat et al. 2021)</span> (v1.2.0) are plain text files with human- and machine-readable citation information for software (and datasets). Code developers can include them in their repositories to let others know how to correctly cite their software.</p>
<p>This format is becoming popular within the software citation ecosystem. Recently <a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-citation-files">GitHub</a>, <a href="https://twitter.com/ZENODO_ORG/status/1420357001490706442">Zenodo</a> and <a href="https://twitter.com/zotero/status/1420515377390530560">Zotero</a> have included full support of this citation format.</p>
<p>GitHub support is of special interest:</p>
<p><em>See <a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-citation-files">Customize your repository/About CITATION files</a></em></p>
<blockquote>
<p>When you add a CITATION.cff file to the default branch of your repository, it is automatically linked from the repository landing page. This makes it easy for other users to cite your software project, using the information you’ve provided.</p>
<p><img src="citation-link.png" title="citation-link" alt="citation-link" width="80%" style="display: block; margin: auto;"></p>
</blockquote>
</div>
<div id="creating-a-citation-cff-file-for-my-r-package" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-citation-cff-file-for-my-r-package" class="anchor"></a>Creating a <code>CITATION.cff</code> file for my R package</h2>
<p>With <strong>cffr</strong> creating a <code>CITATION.cff</code> file is quite straightforward. You just need to run <code><a href="../reference/cff_write.html">cff_write()</a></code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dieghernan.github.io/cffr/">cffr</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/cff_write.html">cff_write</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># You are done!</span></code></pre></div>
<p>Under the hood, <code><a href="../reference/cff_write.html">cff_write()</a></code> performs the following tasks:</p>
<ul>
<li>It extracts the metadata using <code><a href="../reference/cff_create.html">cff_create()</a></code>.</li>
<li>Writes a <code>CITATION.cff</code> file using <code><a href="https://rdrr.io/pkg/yaml/man/write_yaml.html">yaml::write_yaml()</a></code>.</li>
<li>Validates the result using <code><a href="../reference/cff_validate.html">cff_validate()</a></code>.</li>
</ul>
<p>Congratulations! Now you have a full <code>CITATION.cff</code> file for your <strong>R</strong> package.</p>
</div>
<div id="modifying-your-citation-cff-file" class="section level2">
<h2 class="hasAnchor">
<a href="#modifying-your-citation-cff-file" class="anchor"></a>Modifying your <code>CITATION.cff</code> file</h2>
<p>You can easily customize the <code>cff</code> object (a custom class of <strong>cffr</strong>) using the parsers provided in the package, as well as making use of the <code>keys</code> parameter.</p>
<p>We would create a <code>cff</code> object using <code><a href="../reference/cff.html">cff()</a></code> (for example purposes only) and we would add or modify contents of it.</p>
<div id="adding-new-fields" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-new-fields" class="anchor"></a>Adding new fields</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">newobject</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cff_create.html">cff_create</a></span><span class="op">(</span><span class="fu"><a href="../reference/cff.html">cff</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>

<span class="co"># For modifying your auto-generated object, run this line instead:</span>
<span class="co"># newoobject &lt;- cff_create()</span>

<span class="va">newobject</span>
<span class="co">#&gt; cff-version: 1.2.0</span>
<span class="co">#&gt; message: If you use this software, please cite it using these metadata.</span>
<span class="co">#&gt; title: My Research Software</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - family-names: Doe</span>
<span class="co">#&gt;   given-names: John</span>
<span class="co">#&gt; preferred-citation:</span>
<span class="co">#&gt;   type: manual</span>
<span class="co">#&gt;   title: My Research Software</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Doe</span>
<span class="co">#&gt;     given-names: John</span>
<span class="co">#&gt;   year: '2021'</span></code></pre></div>
<p>The valid keys of the <a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Citation File Format schema version 1.2.0</a> can be displayed with <code><a href="../reference/cff_schema.html">cff_schema_keys()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/cff_schema.html">cff_schema_keys</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;  [1] "cff-version"         "message"             "type"               </span>
<span class="co">#&gt;  [4] "license"             "title"               "version"            </span>
<span class="co">#&gt;  [7] "doi"                 "abstract"            "authors"            </span>
<span class="co">#&gt; [10] "preferred-citation"  "repository"          "repository-artifact"</span>
<span class="co">#&gt; [13] "repository-code"     "url"                 "date-released"      </span>
<span class="co">#&gt; [16] "contact"             "keywords"            "references"         </span>
<span class="co">#&gt; [19] "commit"              "identifiers"         "license-url"</span></code></pre></div>
<p>In this case, we are going to add <code>url</code>, <code>version</code> and <code>repository</code>. We would also overwrite the <code>title</code> key. We just need to create a list and pass it to the <code>keys</code> argument of <code><a href="../reference/cff_create.html">cff_create()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">newkeys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="st">"url"</span> <span class="op">=</span> <span class="st">"https://ropensci.org/"</span>,
  <span class="st">"version"</span> <span class="op">=</span> <span class="st">"0.0.1"</span>,
  <span class="st">"repository"</span> <span class="op">=</span> <span class="st">"https://github.com/user/repo"</span>,
  <span class="co"># If the field is already present, it would be overridden</span>
  title <span class="op">=</span> <span class="st">"Modifying a 'cff' object"</span>
<span class="op">)</span>

<span class="va">modobject</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cff_create.html">cff_create</a></span><span class="op">(</span><span class="va">newobject</span>, keys <span class="op">=</span> <span class="va">newkeys</span><span class="op">)</span>

<span class="va">modobject</span>
<span class="co">#&gt; cff-version: 1.2.0</span>
<span class="co">#&gt; message: If you use this software, please cite it using these metadata.</span>
<span class="co">#&gt; title: Modifying a 'cff' object</span>
<span class="co">#&gt; version: 0.0.1</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - family-names: Doe</span>
<span class="co">#&gt;   given-names: John</span>
<span class="co">#&gt; preferred-citation:</span>
<span class="co">#&gt;   type: manual</span>
<span class="co">#&gt;   title: My Research Software</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Doe</span>
<span class="co">#&gt;     given-names: John</span>
<span class="co">#&gt;   year: '2021'</span>
<span class="co">#&gt; repository: https://github.com/user/repo</span>
<span class="co">#&gt; url: https://ropensci.org/</span>

<span class="co"># Validate against the schema</span>

<span class="fu"><a href="../reference/cff_validate.html">cff_validate</a></span><span class="op">(</span><span class="va">modobject</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; cff_validate results-----</span>
<span class="co">#&gt; Congratulations! This cff object is valid</span></code></pre></div>
</div>
<div id="parsing-persons-and-citations" class="section level3">
<h3 class="hasAnchor">
<a href="#parsing-persons-and-citations" class="anchor"></a>Parsing persons and citations</h3>
<p><strong>cffr</strong> provides two functions that parse <code>person</code> objects and <code>bibentry</code> objects (See <code><a href="https://rdrr.io/r/utils/person.html">?person</a></code> and <code><a href="https://rdrr.io/r/utils/bibentry.html">?bibentry</a></code>). These objects are included in the <strong>utils</strong> package and are a core part of the metadata of any <strong>R</strong> package.</p>
<p>Following the previous example, we are going to add a new author first. For doing that, we need first to extract the current author of the package and append the parsed person:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Valid person keys</span>

<span class="fu"><a href="../reference/cff_schema.html">cff_schema_definitions_person</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;  [1] "address"       "affiliation"   "alias"         "city"         </span>
<span class="co">#&gt;  [5] "country"       "email"         "family-names"  "fax"          </span>
<span class="co">#&gt;  [9] "given-names"   "name-particle" "name-suffix"   "orcid"        </span>
<span class="co">#&gt; [13] "post-code"     "region"        "tel"           "website"</span>

<span class="co"># Create the person</span>

<span class="va">chiquito</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/person.html">person</a></span><span class="op">(</span><span class="st">"Gregorio"</span>,
  <span class="st">"Sánchez Fernández"</span>,
  email <span class="op">=</span> <span class="st">"fake@email2.com"</span>,
  comment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    alias <span class="op">=</span> <span class="st">"Chiquito de la Calzada"</span>,
    city <span class="op">=</span> <span class="st">"Malaga"</span>,
    country <span class="op">=</span> <span class="st">"ES"</span>,
    ORCID <span class="op">=</span> <span class="st">"0000-0000-0000-0001"</span>
  <span class="op">)</span>
<span class="op">)</span>

<span class="va">chiquito</span>
<span class="co">#&gt; [1] "Gregorio Sánchez Fernández &lt;fake@email2.com&gt; (Chiquito de la Calzada, Malaga, ES, &lt;https://orcid.org/0000-0000-0000-0001&gt;)"</span>

<span class="co"># Parse it</span>
<span class="va">chiquito_parsed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cff_parse_person.html">cff_parse_person</a></span><span class="op">(</span><span class="va">chiquito</span><span class="op">)</span>
<span class="va">chiquito_parsed</span>
<span class="co">#&gt; family-names: Sánchez Fernández</span>
<span class="co">#&gt; given-names: Gregorio</span>
<span class="co">#&gt; email: fake@email2.com</span>
<span class="co">#&gt; alias: Chiquito de la Calzada</span>
<span class="co">#&gt; city: Malaga</span>
<span class="co">#&gt; country: ES</span>
<span class="co">#&gt; orcid: https://orcid.org/0000-0000-0000-0001</span>


<span class="co"># Append to previous authors</span>

<span class="co"># Needs to be append as a list</span>
<span class="va">newauthors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">modobject</span><span class="op">$</span><span class="va">authors</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">chiquito_parsed</span><span class="op">)</span><span class="op">)</span>
<span class="va">newauthors</span>
<span class="co">#&gt; - family-names: Doe</span>
<span class="co">#&gt;   given-names: John</span>
<span class="co">#&gt; - family-names: Sánchez Fernández</span>
<span class="co">#&gt;   given-names: Gregorio</span>
<span class="co">#&gt;   email: fake@email2.com</span>
<span class="co">#&gt;   alias: Chiquito de la Calzada</span>
<span class="co">#&gt;   city: Malaga</span>
<span class="co">#&gt;   country: ES</span>
<span class="co">#&gt;   orcid: https://orcid.org/0000-0000-0000-0001</span>

<span class="va">newauthorobject</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cff_create.html">cff_create</a></span><span class="op">(</span><span class="va">modobject</span>, keys <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>authors <span class="op">=</span> <span class="va">newauthors</span><span class="op">)</span><span class="op">)</span>

<span class="va">newauthorobject</span>
<span class="co">#&gt; cff-version: 1.2.0</span>
<span class="co">#&gt; message: If you use this software, please cite it using these metadata.</span>
<span class="co">#&gt; title: Modifying a 'cff' object</span>
<span class="co">#&gt; version: 0.0.1</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - family-names: Doe</span>
<span class="co">#&gt;   given-names: John</span>
<span class="co">#&gt; - family-names: Sánchez Fernández</span>
<span class="co">#&gt;   given-names: Gregorio</span>
<span class="co">#&gt;   email: fake@email2.com</span>
<span class="co">#&gt;   alias: Chiquito de la Calzada</span>
<span class="co">#&gt;   city: Malaga</span>
<span class="co">#&gt;   country: ES</span>
<span class="co">#&gt;   orcid: https://orcid.org/0000-0000-0000-0001</span>
<span class="co">#&gt; preferred-citation:</span>
<span class="co">#&gt;   type: manual</span>
<span class="co">#&gt;   title: My Research Software</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Doe</span>
<span class="co">#&gt;     given-names: John</span>
<span class="co">#&gt;   year: '2021'</span>
<span class="co">#&gt; repository: https://github.com/user/repo</span>
<span class="co">#&gt; url: https://ropensci.org/</span>

<span class="fu"><a href="../reference/cff_validate.html">cff_validate</a></span><span class="op">(</span><span class="va">newauthorobject</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; cff_validate results-----</span>
<span class="co">#&gt; Congratulations! This cff object is valid</span></code></pre></div>
<p>Now, we may want to add <code>references</code> to our data. <strong>cffr</strong> supports two types of references:</p>
<ul>
<li>References created with <code><a href="https://rdrr.io/r/utils/bibentry.html">bibentry()</a></code>
</li>
<li>References extracted from packages using <code><a href="https://rdrr.io/r/utils/citation.html">citation()</a></code>
</li>
</ul>
<p>On the following example, we would add two references, one of each type:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Valid reference keys</span>

<span class="fu"><a href="../reference/cff_schema.html">cff_schema_definitions_refs</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;  [1] "abbreviation"        "abstract"            "authors"            </span>
<span class="co">#&gt;  [4] "collection-doi"      "collection-title"    "collection-type"    </span>
<span class="co">#&gt;  [7] "commit"              "conference"          "contact"            </span>
<span class="co">#&gt; [10] "copyright"           "data-type"           "database-provider"  </span>
<span class="co">#&gt; [13] "database"            "date-accessed"       "date-downloaded"    </span>
<span class="co">#&gt; [16] "date-published"      "date-released"       "department"         </span>
<span class="co">#&gt; [19] "doi"                 "edition"             "editors"            </span>
<span class="co">#&gt; [22] "editors-series"      "end"                 "entry"              </span>
<span class="co">#&gt; [25] "filename"            "format"              "identifiers"        </span>
<span class="co">#&gt; [28] "institution"         "isbn"                "issn"               </span>
<span class="co">#&gt; [31] "issue"               "issue-date"          "issue-title"        </span>
<span class="co">#&gt; [34] "journal"             "keywords"            "languages"          </span>
<span class="co">#&gt; [37] "license"             "license-url"         "loc-end"            </span>
<span class="co">#&gt; [40] "loc-start"           "location"            "medium"             </span>
<span class="co">#&gt; [43] "month"               "nihmsid"             "notes"              </span>
<span class="co">#&gt; [46] "number"              "number-volumes"      "patent-states"      </span>
<span class="co">#&gt; [49] "pmcid"               "publisher"           "recipients"         </span>
<span class="co">#&gt; [52] "repository"          "repository-artifact" "repository-code"    </span>
<span class="co">#&gt; [55] "scope"               "section"             "senders"            </span>
<span class="co">#&gt; [58] "status"              "term"                "thesis-type"        </span>
<span class="co">#&gt; [61] "title"               "translators"         "type"               </span>
<span class="co">#&gt; [64] "url"                 "version"             "volume"             </span>
<span class="co">#&gt; [67] "volume-title"        "year"                "year-original"</span>

<span class="co"># Auto parsed from another R package</span>
<span class="va">base_r</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cff_parse_citation.html">cff_parse_citation</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html">citation</a></span><span class="op">(</span><span class="st">"base"</span><span class="op">)</span><span class="op">)</span>

<span class="va">base_r</span>
<span class="co">#&gt; type: manual</span>
<span class="co">#&gt; title: 'R: A Language and Environment for Statistical Computing'</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - name: R Core Team</span>
<span class="co">#&gt; year: '2021'</span>
<span class="co">#&gt; url: https://www.R-project.org/</span>

<span class="co"># Create with bibentry</span>

<span class="va">bib</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/bibentry.html">bibentry</a></span><span class="op">(</span><span class="st">"Book"</span>,
  title <span class="op">=</span> <span class="st">"This is a book"</span>,
  author <span class="op">=</span> <span class="st">"Lisa Lee"</span>,
  year <span class="op">=</span> <span class="fl">1980</span>,
  publisher <span class="op">=</span> <span class="st">"McGraw Hill"</span>,
  volume <span class="op">=</span> <span class="fl">2</span>
<span class="op">)</span>
<span class="va">bib</span>
<span class="co">#&gt; Lee L (1980). _This is a book_, volume 2. McGraw Hill.</span>

<span class="co"># Now parse it</span>

<span class="va">bookparsed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cff_parse_citation.html">cff_parse_citation</a></span><span class="op">(</span><span class="va">bib</span><span class="op">)</span>

<span class="va">bookparsed</span>
<span class="co">#&gt; type: book</span>
<span class="co">#&gt; title: This is a book</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - family-names: Lee</span>
<span class="co">#&gt;   given-names: Lisa</span>
<span class="co">#&gt; year: '1980'</span>
<span class="co">#&gt; publisher:</span>
<span class="co">#&gt;   name: McGraw Hill</span>
<span class="co">#&gt; volume: '2'</span></code></pre></div>
<p>Now the process is similar to the example with <code>person</code>: we append both references (as lists) and add them to our object:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">refkeys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>references <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">base_r</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">bookparsed</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="va">refkeys</span>
<span class="co">#&gt; $references</span>
<span class="co">#&gt; $references[[1]]</span>
<span class="co">#&gt; type: manual</span>
<span class="co">#&gt; title: 'R: A Language and Environment for Statistical Computing'</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - name: R Core Team</span>
<span class="co">#&gt; year: '2021'</span>
<span class="co">#&gt; url: https://www.R-project.org/</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $references[[2]]</span>
<span class="co">#&gt; type: book</span>
<span class="co">#&gt; title: This is a book</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - family-names: Lee</span>
<span class="co">#&gt;   given-names: Lisa</span>
<span class="co">#&gt; year: '1980'</span>
<span class="co">#&gt; publisher:</span>
<span class="co">#&gt;   name: McGraw Hill</span>
<span class="co">#&gt; volume: '2'</span>

<span class="va">finalobject</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cff_create.html">cff_create</a></span><span class="op">(</span><span class="va">newauthorobject</span>, keys <span class="op">=</span> <span class="va">refkeys</span><span class="op">)</span>

<span class="va">finalobject</span>
<span class="co">#&gt; cff-version: 1.2.0</span>
<span class="co">#&gt; message: If you use this software, please cite it using these metadata.</span>
<span class="co">#&gt; title: Modifying a 'cff' object</span>
<span class="co">#&gt; version: 0.0.1</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - family-names: Doe</span>
<span class="co">#&gt;   given-names: John</span>
<span class="co">#&gt; - family-names: Sánchez Fernández</span>
<span class="co">#&gt;   given-names: Gregorio</span>
<span class="co">#&gt;   email: fake@email2.com</span>
<span class="co">#&gt;   alias: Chiquito de la Calzada</span>
<span class="co">#&gt;   city: Malaga</span>
<span class="co">#&gt;   country: ES</span>
<span class="co">#&gt;   orcid: https://orcid.org/0000-0000-0000-0001</span>
<span class="co">#&gt; preferred-citation:</span>
<span class="co">#&gt;   type: manual</span>
<span class="co">#&gt;   title: My Research Software</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Doe</span>
<span class="co">#&gt;     given-names: John</span>
<span class="co">#&gt;   year: '2021'</span>
<span class="co">#&gt; repository: https://github.com/user/repo</span>
<span class="co">#&gt; url: https://ropensci.org/</span>
<span class="co">#&gt; references:</span>
<span class="co">#&gt; - type: manual</span>
<span class="co">#&gt;   title: 'R: A Language and Environment for Statistical Computing'</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - name: R Core Team</span>
<span class="co">#&gt;   year: '2021'</span>
<span class="co">#&gt;   url: https://www.R-project.org/</span>
<span class="co">#&gt; - type: book</span>
<span class="co">#&gt;   title: This is a book</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Lee</span>
<span class="co">#&gt;     given-names: Lisa</span>
<span class="co">#&gt;   year: '1980'</span>
<span class="co">#&gt;   publisher:</span>
<span class="co">#&gt;     name: McGraw Hill</span>
<span class="co">#&gt;   volume: '2'</span>

<span class="fu"><a href="../reference/cff_validate.html">cff_validate</a></span><span class="op">(</span><span class="va">finalobject</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; cff_validate results-----</span>
<span class="co">#&gt; Congratulations! This cff object is valid</span></code></pre></div>
</div>
<div id="create-your-modified-citation-cff-file" class="section level3">
<h3 class="hasAnchor">
<a href="#create-your-modified-citation-cff-file" class="anchor"></a>Create your modified <code>CITATION.cff</code> file</h3>
<p>The results can be written with <code><a href="../reference/cff_write.html">cff_write()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># For example</span>
<span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".cff"</span><span class="op">)</span>

<span class="va">see_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cff_write.html">cff_write</a></span><span class="op">(</span><span class="va">finalobject</span>, outfile <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span>
<span class="co">#&gt; /tmp/RtmpNSI5og/file356b1f2b9441.cff generated</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; cff_validate results-----</span>
<span class="co">#&gt; Congratulations! This .cff file is valid</span>

<span class="va">see_res</span>
<span class="co">#&gt; cff-version: 1.2.0</span>
<span class="co">#&gt; message: If you use this software, please cite it using these metadata.</span>
<span class="co">#&gt; title: Modifying a 'cff' object</span>
<span class="co">#&gt; version: 0.0.1</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - family-names: Doe</span>
<span class="co">#&gt;   given-names: John</span>
<span class="co">#&gt; - family-names: Sánchez Fernández</span>
<span class="co">#&gt;   given-names: Gregorio</span>
<span class="co">#&gt;   email: fake@email2.com</span>
<span class="co">#&gt;   alias: Chiquito de la Calzada</span>
<span class="co">#&gt;   city: Malaga</span>
<span class="co">#&gt;   country: ES</span>
<span class="co">#&gt;   orcid: https://orcid.org/0000-0000-0000-0001</span>
<span class="co">#&gt; preferred-citation:</span>
<span class="co">#&gt;   type: manual</span>
<span class="co">#&gt;   title: My Research Software</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Doe</span>
<span class="co">#&gt;     given-names: John</span>
<span class="co">#&gt;   year: '2021'</span>
<span class="co">#&gt; repository: https://github.com/user/repo</span>
<span class="co">#&gt; url: https://ropensci.org/</span>
<span class="co">#&gt; references:</span>
<span class="co">#&gt; - type: manual</span>
<span class="co">#&gt;   title: 'R: A Language and Environment for Statistical Computing'</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - name: R Core Team</span>
<span class="co">#&gt;   year: '2021'</span>
<span class="co">#&gt;   url: https://www.R-project.org/</span>
<span class="co">#&gt; - type: book</span>
<span class="co">#&gt;   title: This is a book</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Lee</span>
<span class="co">#&gt;     given-names: Lisa</span>
<span class="co">#&gt;   year: '1980'</span>
<span class="co">#&gt;   publisher:</span>
<span class="co">#&gt;     name: McGraw Hill</span>
<span class="co">#&gt;   volume: '2'</span></code></pre></div>
<p>And finally we can read our created <code>CITATION.cff</code> file using <code><a href="../reference/cff.html">cff()</a></code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">reading</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cff.html">cff</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span>

<span class="va">reading</span>
<span class="co">#&gt; cff-version: 1.2.0</span>
<span class="co">#&gt; message: If you use this software, please cite it using these metadata.</span>
<span class="co">#&gt; title: Modifying a 'cff' object</span>
<span class="co">#&gt; version: 0.0.1</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - family-names: Doe</span>
<span class="co">#&gt;   given-names: John</span>
<span class="co">#&gt; - family-names: Sánchez Fernández</span>
<span class="co">#&gt;   given-names: Gregorio</span>
<span class="co">#&gt;   email: fake@email2.com</span>
<span class="co">#&gt;   alias: Chiquito de la Calzada</span>
<span class="co">#&gt;   city: Malaga</span>
<span class="co">#&gt;   country: ES</span>
<span class="co">#&gt;   orcid: https://orcid.org/0000-0000-0000-0001</span>
<span class="co">#&gt; preferred-citation:</span>
<span class="co">#&gt;   type: manual</span>
<span class="co">#&gt;   title: My Research Software</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Doe</span>
<span class="co">#&gt;     given-names: John</span>
<span class="co">#&gt;   year: '2021'</span>
<span class="co">#&gt; repository: https://github.com/user/repo</span>
<span class="co">#&gt; url: https://ropensci.org/</span>
<span class="co">#&gt; references:</span>
<span class="co">#&gt; - type: manual</span>
<span class="co">#&gt;   title: 'R: A Language and Environment for Statistical Computing'</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - name: R Core Team</span>
<span class="co">#&gt;   year: '2021'</span>
<span class="co">#&gt;   url: https://www.R-project.org/</span>
<span class="co">#&gt; - type: book</span>
<span class="co">#&gt;   title: This is a book</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Lee</span>
<span class="co">#&gt;     given-names: Lisa</span>
<span class="co">#&gt;   year: '1980'</span>
<span class="co">#&gt;   publisher:</span>
<span class="co">#&gt;     name: McGraw Hill</span>
<span class="co">#&gt;   volume: '2'</span></code></pre></div>
<p>Note that <code><a href="../reference/cff_write.html">cff_write()</a></code> also has the <code>keys</code> param, so the workflow can be simplified as:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">allkeys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="st">"url"</span> <span class="op">=</span> <span class="st">"https://ropensci.org/"</span>,
  <span class="st">"version"</span> <span class="op">=</span> <span class="st">"0.0.1"</span>,
  <span class="st">"repository"</span> <span class="op">=</span> <span class="st">"https://github.com/user/repo"</span>,
  <span class="co"># If the field is already present, it would be overridden</span>
  title <span class="op">=</span> <span class="st">"Modifying a 'cff' object"</span>,
  authors <span class="op">=</span> <span class="va">newauthors</span>,
  references <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">base_r</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">bookparsed</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">tmp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".cff"</span><span class="op">)</span>

<span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cff_write.html">cff_write</a></span><span class="op">(</span><span class="fu"><a href="../reference/cff.html">cff</a></span><span class="op">(</span><span class="op">)</span>, outfile <span class="op">=</span> <span class="va">tmp2</span>, keys <span class="op">=</span> <span class="va">allkeys</span><span class="op">)</span>
<span class="co">#&gt; /tmp/RtmpNSI5og/file356b41da4503.cff generated</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; cff_validate results-----</span>
<span class="co">#&gt; Congratulations! This .cff file is valid</span>

<span class="va">res</span>
<span class="co">#&gt; cff-version: 1.2.0</span>
<span class="co">#&gt; message: If you use this software, please cite it using these metadata.</span>
<span class="co">#&gt; title: Modifying a 'cff' object</span>
<span class="co">#&gt; version: 0.0.1</span>
<span class="co">#&gt; authors:</span>
<span class="co">#&gt; - family-names: Doe</span>
<span class="co">#&gt;   given-names: John</span>
<span class="co">#&gt; - family-names: Sánchez Fernández</span>
<span class="co">#&gt;   given-names: Gregorio</span>
<span class="co">#&gt;   email: fake@email2.com</span>
<span class="co">#&gt;   alias: Chiquito de la Calzada</span>
<span class="co">#&gt;   city: Malaga</span>
<span class="co">#&gt;   country: ES</span>
<span class="co">#&gt;   orcid: https://orcid.org/0000-0000-0000-0001</span>
<span class="co">#&gt; preferred-citation:</span>
<span class="co">#&gt;   type: manual</span>
<span class="co">#&gt;   title: My Research Software</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Doe</span>
<span class="co">#&gt;     given-names: John</span>
<span class="co">#&gt;   year: '2021'</span>
<span class="co">#&gt; repository: https://github.com/user/repo</span>
<span class="co">#&gt; url: https://ropensci.org/</span>
<span class="co">#&gt; references:</span>
<span class="co">#&gt; - type: manual</span>
<span class="co">#&gt;   title: 'R: A Language and Environment for Statistical Computing'</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - name: R Core Team</span>
<span class="co">#&gt;   year: '2021'</span>
<span class="co">#&gt;   url: https://www.R-project.org/</span>
<span class="co">#&gt; - type: book</span>
<span class="co">#&gt;   title: This is a book</span>
<span class="co">#&gt;   authors:</span>
<span class="co">#&gt;   - family-names: Lee</span>
<span class="co">#&gt;     given-names: Lisa</span>
<span class="co">#&gt;   year: '1980'</span>
<span class="co">#&gt;   publisher:</span>
<span class="co">#&gt;     name: McGraw Hill</span>
<span class="co">#&gt;   volume: '2'</span></code></pre></div>
</div>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-Druskat_Citation_File_Format_2021">
<p>Druskat, Stephan, Jurriaan H. Spaaks, Neil Chue Hong, Robert Haines, James Baker, Spencer Bliven, Egon Willighagen, David Pérez-Suárez, and Alexander Konovalov. 2021. “Citation File Format.” <a href="https://doi.org/10.5281/zenodo.5171937">https://doi.org/10.5281/zenodo.5171937</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://dieghernan.github.io/">Diego Hernangómez</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
